[2025-11-15T20:37:27.990Z] ERROR: ❌ Error in generateRecommendations: {
  "name": "ValidationException",
  "$fault": "client",
  "$metadata": {
    "httpStatusCode": 400,
    "requestId": "GFH5A3O7K4TKA2E5EPMRUR009BVV4KQNSO5AEMVJF66Q9ASUAAJG",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "__type": "com.amazon.coral.validate#ValidationException",
  "message": "The provided key element does not match the schema"
}
[2025-11-15T20:37:28.047Z] ERROR: ❌ Error stack: ValidationException: The provided key element does not match the schema
    at throwDefaultError (webpack-internal:///(rsc)/./node_modules/@smithy/smithy-client/dist-es/default-error-handler.js:11:22)
    at eval (webpack-internal:///(rsc)/./node_modules/@smithy/smithy-client/dist-es/default-error-handler.js:20:9)
    at de_CommandError (webpack-internal:///(rsc)/./node_modules/@aws-sdk/client-dynamodb/dist-es/protocols/Aws_json1_0.js:1319:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@smithy/middleware-serde/dist-es/deserializerMiddleware.js:8:24)
    at async eval (webpack-internal:///(rsc)/./node_modules/@aws-sdk/lib-dynamodb/dist-es/baseCommand/DynamoDBDocumentClientCommand.js:27:34)
    at async eval (webpack-internal:///(rsc)/./node_modules/@smithy/core/dist-es/middleware-http-signing/httpSigningMiddleware.js:25:20)
    at async eval (webpack-internal:///(rsc)/./node_modules/@smithy/middleware-retry/dist-es/retryMiddleware.js:41:46)
    at async eval (webpack-internal:///(rsc)/./node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js:9:26)
    at async getMovie (webpack-internal:///(rsc)/./src/app/api/lib/dynamodb.js:144:24)
    at async getMovieDetails (webpack-internal:///(rsc)/./src/app/api/getSuggestedMovies/route.js:109:27)
    at async generateRecommendations (webpack-internal:///(rsc)/./src/app/api/getSuggestedMovies/route.js:149:29)
    at async POST (webpack-internal:///(rsc)/./src/app/api/getSuggestedMovies/route.js:453:33)
    at async AppRouteRouteModule.do (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:33891)
    at async AppRouteRouteModule.handle (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41254)
    at async doRender (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:1513:42)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:1915:28)
    at async DevServer.renderPageComponent (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:2393:24)
    at async DevServer.renderToResponseImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:2430:32)
    at async DevServer.pipeImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:1003:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/next-server.js:304:17)
    at async DevServer.handleRequestImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:895:17)
    at async /Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/dev/next-dev-server.js:371:20
    at async Span.traceAsyncFn (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/trace/trace.js:157:20)
    at async DevServer.handleRequest (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/dev/next-dev-server.js:368:24)
    at async invokeRender (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/router-server.js:235:21)
    at async handleRequest (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/router-server.js:426:24)
    at async requestHandlerImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/router-server.js:450:13)
    at async Server.requestListener (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/start-server.js:158:13)
[2025-11-15T20:37:29.635Z] ERROR: ❌ Error in generateRecommendations: {
  "name": "ValidationException",
  "$fault": "client",
  "$metadata": {
    "httpStatusCode": 400,
    "requestId": "96EOKSKPL6FLS0IC1019UR30QBVV4KQNSO5AEMVJF66Q9ASUAAJG",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "__type": "com.amazon.coral.validate#ValidationException",
  "message": "The provided key element does not match the schema"
}
[2025-11-15T20:37:29.700Z] ERROR: ❌ Error stack: ValidationException: The provided key element does not match the schema
    at throwDefaultError (webpack-internal:///(rsc)/./node_modules/@smithy/smithy-client/dist-es/default-error-handler.js:11:22)
    at eval (webpack-internal:///(rsc)/./node_modules/@smithy/smithy-client/dist-es/default-error-handler.js:20:9)
    at de_CommandError (webpack-internal:///(rsc)/./node_modules/@aws-sdk/client-dynamodb/dist-es/protocols/Aws_json1_0.js:1319:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@smithy/middleware-serde/dist-es/deserializerMiddleware.js:8:24)
    at async eval (webpack-internal:///(rsc)/./node_modules/@aws-sdk/lib-dynamodb/dist-es/baseCommand/DynamoDBDocumentClientCommand.js:27:34)
    at async eval (webpack-internal:///(rsc)/./node_modules/@smithy/core/dist-es/middleware-http-signing/httpSigningMiddleware.js:25:20)
    at async eval (webpack-internal:///(rsc)/./node_modules/@smithy/middleware-retry/dist-es/retryMiddleware.js:41:46)
    at async eval (webpack-internal:///(rsc)/./node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js:9:26)
    at async getMovie (webpack-internal:///(rsc)/./src/app/api/lib/dynamodb.js:144:24)
    at async getMovieDetails (webpack-internal:///(rsc)/./src/app/api/getSuggestedMovies/route.js:109:27)
    at async generateRecommendations (webpack-internal:///(rsc)/./src/app/api/getSuggestedMovies/route.js:149:29)
    at async POST (webpack-internal:///(rsc)/./src/app/api/getSuggestedMovies/route.js:453:33)
    at async AppRouteRouteModule.do (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:33891)
    at async AppRouteRouteModule.handle (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41254)
    at async doRender (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:1513:42)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:1915:28)
    at async DevServer.renderPageComponent (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:2393:24)
    at async DevServer.renderToResponseImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:2430:32)
    at async DevServer.pipeImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:1003:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/next-server.js:304:17)
    at async DevServer.handleRequestImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/base-server.js:895:17)
    at async /Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/dev/next-dev-server.js:371:20
    at async Span.traceAsyncFn (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/trace/trace.js:157:20)
    at async DevServer.handleRequest (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/dev/next-dev-server.js:368:24)
    at async invokeRender (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/router-server.js:235:21)
    at async handleRequest (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/router-server.js:426:24)
    at async requestHandlerImpl (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/router-server.js:450:13)
    at async Server.requestListener (/Users/jakelawrence/Desktop/FILES/Code/what-do-i-watch/node_modules/next/dist/server/lib/start-server.js:158:13)
